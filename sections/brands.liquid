{%- style -%}
/* Root variables for consistent styling */
:root {
  --primary: #2d54a3;
  --secondary: #666666;
  --text: #666666;
  --dark: #0d0d0d;
  --white: #ffffff;
  --line: rgba(0, 0, 0, 0.1);
}

/* Brands styles */
.brands {
  padding: 60px 0;
  background-color: {{ section.settings.background_color }};
}

.brands__header {
  text-align: center;
  margin-bottom: 40px;
}

.brands__title {
  font-size: 32px;
  font-weight: 600;
  margin-bottom: 16px;
  color: var(--dark);
}

.brands__description {
  font-size: 16px;
  color: var(--text);
  max-width: 600px;
  margin: 0 auto;
}

.brands__grid {
  display: grid;
  grid-template-columns: repeat(6, 1fr);
  gap: 30px;
  margin-top: 40px;
}

.brand-item {
  position: relative;
  padding: 20px;
  background: var(--white);
  border-radius: 8px;
  transition: all 0.3s ease;
  {% if section.settings.show_border %}
  border: 1px solid var(--line);
  {% endif %}
}

.brand-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

.brand-item__image {
  width: 100%;
  height: 80px;
  object-fit: contain;
  filter: grayscale(100%);
  transition: filter 0.3s ease;
}

.brand-item:hover .brand-item__image {
  filter: grayscale(0%);
}

@media screen and (max-width: 1200px) {
  .brands__grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

@media screen and (max-width: 991px) {
  .brands__grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media screen and (max-width: 767px) {
  .brands__grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .brands__title {
    font-size: 28px;
  }
}

.section-{{ section.id }}-padding {
  padding: 40px 0;
}

.container {
  max-width: 1488px;
  margin: 0 auto;
  padding: 0 15px;
}

.flat-title {
  text-align: center;
  margin-bottom: 60px;
}

.flat-title .title {
  font-size: 42px;
  font-weight: 500;
  margin: 0;
  color: var(--color-foreground);
  line-height: 1.2;
  letter-spacing: -0.02em;
}

.flat-title .subtitle {
  font-size: 16px;
  line-height: 1.6;
  color: var(--color-foreground);
  margin: 16px auto 0;
  max-width: 600px;
}

.brand-item {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px 30px;
}

.brand-item img {
  max-width: 100%;
  height: auto;
  opacity: 0.5;
  transition: opacity 0.3s ease;
}

.brand-item:hover img {
  opacity: 1;
}

@media screen and (max-width: 767px) {
  .brand-item {
    padding: 10px 20px;
  }
}
{%- endstyle -%}

<link rel="stylesheet" href="{{ 'swiper-bundle.min.css' | asset_url }}">

<section class="section-{{ section.id }}-padding">
  <div class="container">
    {%- if section.settings.title != blank or section.settings.subtitle != blank -%}
      <div class="flat-title wow fadeInUp">
        {%- if section.settings.title != blank -%}
          <h4 class="title">{{ section.settings.title }}</h4>
        {%- endif -%}
        {%- if section.settings.subtitle != blank -%}
          <p class="subtitle">{{ section.settings.subtitle }}</p>
        {%- endif -%}
      </div>
    {%- endif -%}

    <div dir="ltr" class="swiper tf-swiper" data-swiper='{
      "slidesPerView": 6,
      "spaceBetween": 24,
      "speed": 800,
      "loop": true,
      "autoplay": {
        "delay": 3000,
        "disableOnInteraction": false
      },
      "breakpoints": {
        "320": { "slidesPerView": 2, "spaceBetween": 12 },
        "576": { "slidesPerView": 3, "spaceBetween": 16 },
        "768": { "slidesPerView": 4, "spaceBetween": 20 },
        "992": { "slidesPerView": 5, "spaceBetween": 24 },
        "1200": { "slidesPerView": 6, "spaceBetween": 24 }
      }
    }'>
      <div class="swiper-wrapper">
        {%- for block in section.blocks -%}
          <div class="swiper-slide" {{ block.shopify_attributes }}>
            {%- if block.settings.link != blank -%}
              <a href="{{ block.settings.link }}" class="brand-item wow fadeInUp" data-wow-delay="{{ forloop.index0 | times: 0.1 }}s">
                {%- if block.settings.image != blank -%}
                  {{ block.settings.image | image_url: width: 200 | image_tag }}
                {%- endif -%}
              </a>
            {%- else -%}
              <div class="brand-item wow fadeInUp" data-wow-delay="{{ forloop.index0 | times: 0.1 }}s">
                {%- if block.settings.image != blank -%}
                  {{ block.settings.image | image_url: width: 200 | image_tag }}
                {%- endif -%}
              </div>
            {%- endif -%}
          </div>
        {%- endfor -%}
      </div>
    </div>
  </div>
</section>

<script src="{{ 'swiper-bundle.min.js' | asset_url }}" defer></script>
<script src="{{ 'wow.min.js' | asset_url }}" defer></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize Swiper
    const swipers = document.querySelectorAll('.tf-swiper');
    swipers.forEach(element => {
      const options = JSON.parse(element.dataset.swiper);
      new Swiper(element, options);
    });

    // Initialize WOW.js
    new WOW().init();
  });
</script>

<script src="{{ 'infinityslide.js' | asset_url }}" defer></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize infiniteslide
    $('.infiniteslide').infiniteslide();
  });
</script>

{% schema %}
{
  "name": "Brands",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "default": "Our Brands",
      "label": "Heading"
    },
    {
      "type": "text",
      "id": "subtitle",
      "default": "We collaborate with the world's leading brands to bring you the best products",
      "label": "Subheading"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "checkbox",
      "id": "show_border",
      "label": "Show border",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "brand",
      "name": "Brand",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Brand logo"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Brand link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Brands",
      "blocks": [
        {
          "type": "brand"
        },
        {
          "type": "brand"
        },
        {
          "type": "brand"
        },
        {
          "type": "brand"
        },
        {
          "type": "brand"
        },
        {
          "type": "brand"
        }
      ]
    }
  ]
}
{% endschema %} 